## ğŸª£ CriaÃ§Ã£o com o Amazon S3

## ğŸ” Criptografia e ProteÃ§Ã£o de Dados

Quando o objetivo Ã© proteger dados digitais, a **criptografia** Ã© uma ferramenta essencial.  
A criptografia transforma dados legÃ­veis em dados ilegÃ­veis para qualquer pessoa que nÃ£o possua a chave secreta usada para decodificÃ¡-los.

Mesmo que um invasor tenha acesso aos dados, eles nÃ£o terÃ£o valor sem essa chave.

VocÃª pode usar opcionalmente o **AWS Key Management Service (AWS KMS)** para gerenciar chaves secretas.

Por padrÃ£o:

- Todos os buckets do S3 sÃ£o **privados**.
- Somente usuÃ¡rios com acesso explÃ­cito podem visualizar ou manipular os dados.
- Gerenciar corretamente o acesso ao S3 Ã© essencial.

## ğŸ” Criptografia no Amazon S3

Todos os buckets tÃªm **criptografia habilitada por padrÃ£o**, e todos os novos objetos sÃ£o automaticamente criptografados em repouso usando **SSE-S3**.
Se quiser usar outro tipo de criptografia, vocÃª pode especificar isso em requisiÃ§Ãµes **PUT** ou alterar a configuraÃ§Ã£o padrÃ£o do bucket.

### Tipos de Criptografia Suportados

#### ğŸ”¸ Criptografia do Lado do Servidor (SSE)

- **SSE-S3 (padrÃ£o)**
- **SSE-KMS** â€” chaves gerenciadas com AWS KMS
- **DSSE-KMS** â€” dupla camada de criptografia
- **SSE-C** â€” chaves fornecidas pelo cliente

#### ğŸ”¸ Criptografia do Lado do Cliente (Client-Side Encryption)

VocÃª criptografa os dados **antes** do upload.  
VocÃª Ã© responsÃ¡vel pelas chaves e pelo processo de criptografia.

## ğŸ” Controle de Acesso no Amazon S3

A AWS fornece diversas ferramentas para controlar o acesso a buckets e objetos:

<img width="685" height="321" alt="image" src="https://github.com/user-attachments/assets/f564d39c-09c6-480b-bf5d-067cebf3d484" />

### ğŸ›‘ Bloqueio de Acesso PÃºblico

- Substitui qualquer outra permissÃ£o.
- Deve ser ativado para todos os buckets que **nÃ£o** devem ser pÃºblicos.

### ğŸ‘¤ PolÃ­ticas de IAM

- Definem quais usuÃ¡rios e perfis podem acessar buckets e objetos.

### ğŸª£ PolÃ­ticas de Bucket

- Usadas para acesso entre contas, pÃºblico ou anÃ´nimo.
- Podem conter instruÃ§Ãµes de negaÃ§Ã£o explÃ­cita.

### ğŸ“œ ACLs (Listas de Controle de Acesso) do S3

- Menos utilizadas e anteriores ao IAM.
- Use com cuidado para evitar permissÃµes excessivas.

### ğŸŸ¦ Pontos de Acesso do S3

- Endpoints nomeados com permissÃµes especÃ­ficas.
- Ãšteis para ambientes com vÃ¡rias aplicaÃ§Ãµes acessando os mesmos dados.

### ğŸ”— URLs PrÃ©-Assinadas

- Geram acesso temporÃ¡rio a objetos.

### ğŸ§­ Trusted Advisor

- Verifica buckets com permissÃµes muito abertas.

## ğŸ” TrÃªs Abordagens de ConfiguraÃ§Ã£o de Acesso

<img width="708" height="341" alt="image" src="https://github.com/user-attachments/assets/20f97189-3221-4ba8-8c76-fe2c7056840a" />

### 1ï¸âƒ£ ConfiguraÃ§Ã£o PadrÃ£o (Recomendada)

- Tudo Ã© privado.
- Somente root e administrador tÃªm acesso inicial.

### 2ï¸âƒ£ Acesso Controlado

- PermissÃµes especÃ­ficas sÃ£o concedidas.
- Exemplo: UsuÃ¡rio A tem acesso, usuÃ¡rio B nÃ£o.

### 3ï¸âƒ£ Acesso PÃºblico (NÃ£o Recomendado)

- Qualquer pessoa pode acessar os objetos.
- Usado apenas em casos como **hospedagem de site estÃ¡tico**.

## ğŸŒ Escolhendo a RegiÃ£o para Hospedar Dados

<img width="694" height="318" alt="image" src="https://github.com/user-attachments/assets/db4dfb56-7dcd-4f14-8b8d-0e0d9e0ca3d4" />

Ao decidir onde armazenar dados, considere:

### ğŸ“œ Leis e RegulamentaÃ§Ãµes

- RegulamentaÃ§Ãµes locais podem exigir armazenamento em paÃ­s/regiÃ£o especÃ­fica.
- Exemplo: **HIPAA**.

### âš¡ LatÃªncia

- Quanto mais prÃ³xima a regiÃ£o, menor latÃªncia.
- Pequenas diferenÃ§as podem afetar a experiÃªncia do usuÃ¡rio.

### ğŸ—ï¸ Disponibilidade de ServiÃ§os

- Nem todos os serviÃ§os existem em todas as regiÃµes ao mesmo tempo.

### ğŸ’µ Custo

- ServiÃ§os podem custar mais ou menos dependendo da regiÃ£o.

### ğŸŒ UsuÃ¡rios em VÃ¡rias RegiÃµes

- Replicar o ambiente pode melhorar a experiÃªncia.
- Aumenta complexidade e custos.

## ğŸ“¦ InventÃ¡rio do Amazon S3

O **Amazon S3 Inventory** ajuda a:
- Auditar objetos
- Verificar criptografia
- Conferir status de replicaÃ§Ã£o
- Gerar relatÃ³rios para conformidade

### Formatos DisponÃ­veis
- **CSV** (Comma-Separated Values): Ã© um formato de arquivo texto onde cada linha Ã© um registro e cada coluna Ã© separada por vÃ­rgulas. Super comum para exportar tabelas, planilhas e dados simples.  
- **ORC** (Optimized Row Columnar): Ã© um formato colunar, comprimido e otimizado para big data. Muito usado em ecossistemas Hadoop, Hive e sistemas de anÃ¡lise.  
- **Apache Parquet**: Ã© um formato colunar, eficiente e altamente otimizado para leitura analÃ­tica. Muito usado em ferramentas como AWS Athena, Redshift Spectrum, Spark, Presto, etc.  

### VocÃª pode configurar:
- Quais metadados incluir
- VersÃµes atuais ou todas
- Bucket de destino
- FrequÃªncia (diÃ¡ria ou semanal)
- Criptografia dos relatÃ³rios

Consultas possÃ­veis via:
- Amazon Athena
- Redshift Spectrum
- Presto, Hive, Spark

## ğŸ’° Custos e PreÃ§os do Amazon S3

<img width="553" height="263" alt="image" src="https://github.com/user-attachments/assets/12674b69-7bb2-4838-8cea-2213e310b77f" />

O Amazon S3 utiliza o modelo **pay-as-you-go**, ou seja, vocÃª paga somente pelo que realmente usar.  
A seguir, um resumo completo de como funcionam os custos, o que Ã© gratuito e como a criptografia impacta o preÃ§o.

### ğŸ“¦ O que vocÃª paga no Amazon S3

#### ğŸ”¹ 1. Armazenamento
VocÃª paga pelo total de **GB armazenados por mÃªs**, variando de acordo com:
- A **RegiÃ£o AWS**
- A **storage class** (S3 Standard, S3 IA, Glacier, etc.)

#### ğŸ”¹ 2. SolicitaÃ§Ãµes e operaÃ§Ãµes
SÃ£o cobradas operaÃ§Ãµes como:
- `PUT`
- `COPY`
- `POST`
- `LIST`
- TransiÃ§Ãµes de **Lifecycle** entre storage classes
- AutomaÃ§Ã£o do **Intelligent-Tiering**

#### ğŸ”¹ 3. TransferÃªncia de dados (parcialmente)
A transferÃªncia **para fora da AWS** pode gerar custo â€” exceto nos casos listados abaixo.

### ğŸ†“ O que **nÃ£o Ã© cobrado** no Amazon S3
A AWS **nÃ£o cobra** por:
- **Primeiros 100 GB/mÃªs** de saÃ­da para a internet  
- **Entrada de dados** (uploads)
- **TransferÃªncia entre buckets** na **mesma RegiÃ£o**
- TransferÃªncia entre o S3 e qualquer **serviÃ§o AWS na mesma RegiÃ£o**
- TransferÃªncias **do S3 para o CloudFront**
- Download dentro da mesma RegiÃ£o entre serviÃ§os

### ğŸ” Custos de Criptografia
- **SSE-S3** â†’ Sem custo adicional  
- **SSE-C** â†’ Sem custo adicional  
- **SSE-KMS** â†’ Cobra pelo uso do AWS KMS  
- **DSSE-KMS** â†’ Cobra pelo uso do KMS **+** taxa extra por GB devido Ã  2Âª camada de criptografia  

### ğŸ†“ NÃ­vel Gratuito da AWS

Novos clientes da AWS recebem mensalmente:
- **5 GB** de armazenamento S3 Standard  
- **20.000** solicitaÃ§Ãµes **GET**  
- **2.000** solicitaÃ§Ãµes **PUT/COPY/POST/LIST**  
- **100 GB** de transferÃªncia de dados  

### ğŸ“˜ Resumo
âœ” VocÃª paga por armazenamento  
âœ” VocÃª paga por operaÃ§Ãµes que criam, listam ou movem objetos  
âœ” Criptografia padrÃ£o (SSE-S3) Ã© gratuita  
âœ” Muitas formas de transferÃªncia sÃ£o **grÃ¡tis** dentro da AWS  
âœ” O nÃ­vel gratuito reduz custos para iniciantes  

> O modelo do S3 Ã© flexÃ­vel e otimizado para custo, especialmente quando vocÃª escolhe a storage class correta para seu padrÃ£o de acesso.

## ğŸ“ Exemplo PrÃ¡tico: Acesso Controlado

<img width="699" height="309" alt="image" src="https://github.com/user-attachments/assets/de8aaddd-b899-41e2-a001-38084fefb4ad" />

Para evitar acesso pÃºblico, usa-se **acesso controlado**:

1. Criar pastas para cada tipo de conteÃºdo:
   - CulinÃ¡ria
   - Fornecedores
   - Folha de pagamento
   - Conformidade

2. Criar polÃ­ticas do IAM para permitir ou negar acesso conforme o nÃ­vel do funcionÃ¡rio.

---

ğŸ‘‰ğŸ» [Clique aqui para voltar ao Readme](https://github.com/DrikaDev/Estudando-AWS-Solutions-Architect-Associate/blob/main/README.md) ğŸ“’
