## Pr√°ticas recomendadas para criar solu√ß√µes na AWS

Ao projetar uma solu√ß√£o, √© essencial avaliar cuidadosamente as **vantagens e desvantagens** para escolher a abordagem ideal.  
Em alguns cen√°rios, √© poss√≠vel abrir m√£o de **consist√™ncia**, **durabilidade** ou **espa√ßo** em troca de **menor lat√™ncia** e **melhor desempenho**.  
Em outros, a prioridade pode ser a **velocidade de comercializa√ß√£o (time-to-market)**, mesmo que isso resulte em um custo inicial maior.

Essas decis√µes impactam diretamente o **custo**, a **performance** e a **complexidade** da arquitetura.  
Por isso, o design deve sempre se apoiar em **dados emp√≠ricos** - informa√ß√µes obtidas por observa√ß√£o real, experimentos, medi√ß√µes ou testes pr√°ticos, e n√£o por suposi√ß√µes, opini√µes ou teorias - como:

- **Testes de carga** para validar ganhos reais de desempenho.  
- **Benchmarking** para identificar a solu√ß√£o mais econ√¥mica ao longo do tempo.

Ao buscar otimiza√ß√µes, considere tamb√©m como cada escolha afetar√°:

- A experi√™ncia dos clientes  
- A efici√™ncia do workload  
- A escalabilidade e a manuten√ß√£o da solu√ß√£o

Nesta se√ß√£o, voc√™ ver√°:

- **Pr√°ticas recomendadas** para projetar arquiteturas na AWS  
- **Antipadr√µes** ‚Äî abordagens que devem ser evitadas

Em resumo, projetar bem significa **equilibrar trade-offs** e tomar decis√µes baseadas em evid√™ncias ‚Äî m√©tricas, testes, medi√ß√µes e impacto real no workload e nos usu√°rios.

A seguir, voc√™ encontra as principais pr√°ticas para criar solu√ß√µes eficientes, resilientes e econ√¥micas na nuvem.

## 1. Implementar a Escalabilidade

Garanta que sua arquitetura consiga lidar com altera√ß√µes de demanda de forma r√°pida, autom√°tica e proativa.

Com a AWS, √© poss√≠vel escalar a infraestrutura com anteced√™ncia, evitando gargalos. Para isso:

- Implemente escalabilidade em **todas as camadas**.
- Use o **Amazon CloudWatch** para monitorar m√©tricas e acionar pol√≠ticas de scaling.
- Defina limites como:  
  *‚ÄúCPU acima de 60% por mais de 5 minutos.‚Äù*
- Utilize m√©tricas personalizadas para workloads espec√≠ficos.
- Configure o **Amazon EC2 Auto Scaling** para iniciar novas inst√¢ncias automaticamente quando necess√°rio.

Quando um alarme √© acionado, uma nova inst√¢ncia √© iniciada **antes** da satura√ß√£o, garantindo uma experi√™ncia cont√≠nua para os usu√°rios.

Da mesma forma, quando a demanda diminui, o Auto Scaling reduz a capacidade ‚Äî evitando custos desnecess√°rios.

#### Antipadr√£o a evitar
Escalonar manualmente e de forma reativa.  
Quando a capacidade estoura, usu√°rios passam a n√£o conseguir acessar a aplica√ß√£o, e novas inst√¢ncias demoram minutos para ficar prontas.

## 2. Automatizar o Ambiente

A AWS oferece ferramentas integradas de monitoramento e automa√ß√£o que devem ser usadas para reduzir falhas manuais e acelerar respostas.

Com automa√ß√£o, voc√™:

- Detecta automaticamente inst√¢ncias n√£o √≠ntegras.
- Inicia recursos substitutos sem interven√ß√£o humana.
- Notifica administradores automaticamente.
- Mant√©m registros de mudan√ßa realizados pelo ambiente.

**Exemplo:**  
Ao detectar falha em um servidor de aplica√ß√µes, o CloudWatch aciona o Auto Scaling, que inicia e configura um servidor id√™ntico e registra a a√ß√£o automaticamente.

## 3. Usar IaC (Infraestrutura como C√≥digo)

Provisione infraestrutura usando **c√≥digo**, em vez de processos manuais.

Vantagens do IaC:

- Implanta√ß√£o r√°pida de ambientes duplicados.
- Redu√ß√£o de erros de configura√ß√£o.
- Padroniza√ß√£o e consist√™ncia entre ambientes.
- Facilidade para reverter vers√µes de infraestrutura.

Com o IaC, basta atualizar o modelo: todas as pilhas recebem a altera√ß√£o de maneira consistente.  
Ferramentas recomendadas: AWS CloudFormation, AWS CDK, Terraform, Pulumi.

## 4. Tratar Recursos como Descart√°veis

Aproveite a natureza din√¢mica da computa√ß√£o em nuvem.

**Boas pr√°ticas:**
- Automatize a implanta√ß√£o de novos recursos com configura√ß√µes id√™nticas.
- Encerre recursos que n√£o est√£o em uso.
- Teste atualiza√ß√µes em novos recursos e depois substitua os antigos pelos atualizados.

A ideia central √© **tratar a infraestrutura como software**, n√£o como hardware.  
Com hardware tradicional, voc√™ geralmente compra mais do que precisa para picos de uso ‚Äî isso √© caro, inflex√≠vel e dif√≠cil de atualizar.

Ao tratar recursos como descart√°veis:
- A migra√ß√£o entre inst√¢ncias √© simples.
- Voc√™ reage rapidamente a mudan√ßas de capacidade.
- Facilita atualiza√ß√µes e gerenciamento de software.

## 5. Usar Componentes com Acoplamento Fraco

Projete arquiteturas com componentes independentes.

**Solu√ß√µes que promovem desacoplamento:**
- **Balanceadores de carga**, como o Elastic Load Balancing (ELB).
- **Filas de mensagens**, como Amazon SQS.

Com acoplamento forte, quando um componente falha, todo o sistema pode falhar junto.  
Com acoplamento fraco, servi√ßos intermedi√°rios lidam automaticamente com falhas e escalabilidade.

**Exemplo de boa pr√°tica:**
- Servidores web desacoplados de servidores de aplica√ß√£o usando o ELB.

**Antipadr√£o:**
- Servidores web conectados diretamente e de forma r√≠gida aos servidores de aplica√ß√£o.

## 6. Criar Servi√ßos, N√£o Servidores

Use a variedade de servi√ßos gerenciados da AWS. N√£o limite tudo a EC2.

**Considere:**
- Cont√™ineres ou solu√ß√µes serverless quando apropriado.
- Filas de mensagens para comunica√ß√£o entre aplica√ß√µes.
- Armazenamento de ativos est√°ticos no Amazon S3.
- Servi√ßos gerenciados para autentica√ß√£o e gerenciamento de estado.

Solu√ß√µes como AWS Lambda, Amazon SQS, DynamoDB, ELB, Amazon SES e Amazon Cognito podem substituir servidores inteiros com custo menor e mais efici√™ncia.

## 7. Escolher a Solu√ß√£o de Banco de Dados Ideal

Combine o tipo de banco de dados ao workload ‚Äî n√£o o contr√°rio.

**Perguntas importantes:**
- Quais s√£o as necessidades de leitura e grava√ß√£o?
- Qual o total de armazenamento necess√°rio?
- Qual o tamanho t√≠pico dos objetos?
- Quais s√£o os requisitos de durabilidade e lat√™ncia?
- Quantos usu√°rios simult√¢neos?
- Quais s√£o as necessidades de consulta?
- Qual o n√≠vel necess√°rio de integridade dos dados?

A AWS recomenda escolher o armazenamento com base no comportamento da aplica√ß√£o, e n√£o por limita√ß√µes de hardware (como ocorre on-premises).

## 8. Evitar Pontos √önicos de Falha

Presuma que tudo pode falhar. Projete a arquitetura para suportar falhas.

**Exemplo t√≠pico:**
- Dois servidores de aplica√ß√£o conectados a um √∫nico banco de dados ‚Üí ponto √∫nico de falha.
- Solu√ß√£o: criar um banco de dados secund√°rio (standby) e replicar os dados.
- Se o banco principal falhar, o secund√°rio assume automaticamente.

Essa abordagem refor√ßa tamb√©m o conceito de recursos descart√°veis.

## 9. Otimizar em Termos de Custo

Aproveite a flexibilidade da nuvem para atingir efici√™ncia financeira.

**Pergunte-se:**
- Meus recursos t√™m o tamanho e tipo adequados?
- Quais m√©tricas devo monitorar?
- Como desligar recursos n√£o utilizados?
- Com que frequ√™ncia o recurso ser√° usado?
- Posso substituir servidores por servi√ßos gerenciados?

Lembre-se: replicar na nuvem um data center rodando 24/7 pode ser muito caro.  
Use o modelo pay-as-you-go a seu favor.

## 10. Usar Cache

Minimize opera√ß√µes redundantes, reduza custos e melhore a performance.

O cache armazena dados temporariamente entre o usu√°rio e o armazenamento principal.

**Exemplo com CloudFront + S3:**
1. A primeira solicita√ß√£o verifica no CloudFront; se n√£o encontrar, busca no S3.
2. CloudFront armazena o arquivo no edge.
3. Solicita√ß√µes subsequentes v√™m direto do edge ‚Äî menor lat√™ncia e menor custo.

## 11. Proteger Toda a Infraestrutura

Promova seguran√ßa em todas as camadas.

**Boas pr√°ticas:**
- Use servi√ßos gerenciados.
- Registre acessos a recursos.
- Isole partes da infraestrutura.
- Criptografe dados em tr√¢nsito e em repouso.
- Aplique controle de acesso com menor privil√©gio.
- Use MFA.
- Automatize implanta√ß√µes para manter seguran√ßa consistente.

Exemplo: em EC2, grupos de seguran√ßa podem limitar portas, origem e destino do tr√°fego, evitando que problemas em uma inst√¢ncia se espalhem.

---

üëâüèª [Clique aqui para voltar ao Readme](https://github.com/DrikaDev/Estudando-AWS-Solutions-Architect-Associate/blob/main/README.md) üìí
